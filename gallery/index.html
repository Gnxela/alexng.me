<head>
	<link rel="stylesheet" type="text/css" href="index.css">
	<link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300|Raleway:300" rel="stylesheet">
	<script src="jquery-3.0.0.min.js"></script>
	<title>Alex Ng / Gallery</title>
</head>
<body>
	<div class="nav-bar">
		<div class="title">Gallery</div>
	</div>
	<!-- Hardcoding in to get format, will redo dynamically when I have it looking nice -->
	<div class="overlay">

	</div>
	<div class="gallery-container">
		<div class="album">
			<div class="polaroid">
				<img src="../res/portfolio.png" />
				<h2>Me and the lads in Galway</h2>
			</div>
			<div class="polaroid">
				<img src="../res/portfolio.png" />
				<h2>Me and the lads in Galway</h2>
			</div>
			<div class="polaroid">
				<img src="../res/portfolio.png" />
				<h2>Me and the lads in Galway</h2>
			</div>
		</div>
		<div class="album">
                        <div class="polaroid">
                                <img src="../res/portfolio.png" />
                                <h2>Me and the lads in Galway</h2>
                        </div>
                        <div class="polaroid">
                                <img src="../res/portfolio.png" />
                                <h2>Me and the lads in Galway</h2>
                        </div>
                        <div class="polaroid">
                                <img src="../res/portfolio.png" />
                                <h2>Me and the lads in Galway</h2>
                        </div>
                        <div class="polaroid">
                                <img src="../res/portfolio.png" />
                                <h2>Me and the lads in Galway</h2>
                        </div>
                        <div class="polaroid">
                                <img src="../res/portfolio.png" />
                                <h2>Me and the lads in Galway</h2>
                        </div>
                        <div class="polaroid">
                                <img src="../res/portfolio.png" />
                                <h2>Me and the lads in Galway</h2>
                        </div>
                        <div class="polaroid">
                                <img src="../res/portfolio.png" />
                                <h2>Me and the lads in Galway</h2>
                        </div>
                        <div class="polaroid">
                                <img src="../res/portfolio.png" />
                                <h2>Me and the lads in Galway</h2>
                        </div>
                        <div class="polaroid">
                                <img src="../res/portfolio.png" />
                                <h2>Me and the lads in Galway</h2>
                        </div>
                        <div class="polaroid">
                                <img src="../res/portfolio.png" />
                                <h2>Me and the lads in Galway</h2>
                        </div>
                        <div class="polaroid">
                                <img src="../res/portfolio.png" />
                                <h2>Me and the lads in Galway</h2>
                        </div>
                        <div class="polaroid">
                                <img src="../res/portfolio.png" />
                                <h2>Me and the lads in Galway</h2>
                        </div>
                </div>
	</div>
</body>
<script>
$(document).ready(function() {
	$(".polaroid").each(function() {
		$(this).css({"transform" : "rotate(" + (Math.floor((Math.random() * 10) -4)) + "deg)"});
		$(this).css("margin-left", function (index, curValue) {
			return parseInt(curValue, 10) + (Math.floor(Math.random() * 20) - 9) + 'px';
		});
		$(this).css("margin-top", function (index, curValue) {
                        return parseInt(curValue, 10) + (Math.floor(Math.random() * 20) - 9) + 'px';
                });
	});
	$(".album").click(function() {
		//$(".overlay").append($(this).clone());
		//$(".overlay").find(".album").contents().unwrap();
		$(".overlay").css({"display": "block", "z-index": 1});
		
		var total = 0;
		$(this).children(".polaroid").each(function(index) {//Add all the images first as to get correct positions
			var $old = $(this);
			var $new = $old.clone().attr("id", index).appendTo('.overlay');
			$new.css("opacity", 0);
		});
		$(this).children(".polaroid").each(function(index) {
			var $old = $(this);
			var $new = $(".overlay").find("#" + index);
			var newOffset = $new.offset();
			var oldOffset = $old.offset();
			var $temp = $old.clone().appendTo('body');
			$temp.css('position', 'absolute').css('left', oldOffset.left).css('top', oldOffset.top).css('z-index', 1000);
			$temp.animate({'top': newOffset.top, 'left': newOffset.left}, 600, function() {
				$new.css("opacity", 1);
				//$temp.remove();
				$temp.css("background-color", "red");
			});
		});
	});
	$(".overlay").click(function() {
		$(this).empty();
		$(this).css({"display": "none", "z-index": -1});		
	});
});
</script>
